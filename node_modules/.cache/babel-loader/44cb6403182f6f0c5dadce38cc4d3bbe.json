{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst memory_cache_1 = require(\"./memory-cache\");\n\nconst cache = memory_cache_1.memoryCache();\n\nconst getRegexInstance = rawRegex => {\n  const cachedRegexInstance = cache.get(rawRegex);\n  if (cachedRegexInstance) return cachedRegexInstance.value;\n  const regexInstance = RegExp(`(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:${rawRegex})`, \"i\");\n  cache.set(rawRegex, {\n    value: regexInstance\n  });\n  return regexInstance;\n};\n\nexports.userAgentParser = (rawRegex, userAgent) => {\n  // TODO: find out why it fails in some browsers\n  try {\n    const regexInstance = getRegexInstance(rawRegex);\n    const match = regexInstance.exec(userAgent);\n    return match ? match.slice(1) : null;\n  } catch (_a) {\n    return null;\n  }\n};","map":{"version":3,"sources":["/Users/gilad.tamam/dev/Workspace/feedbacks/node_modules/device-detector-js/dist/utils/user-agent.js"],"names":["Object","defineProperty","exports","value","memory_cache_1","require","cache","memoryCache","getRegexInstance","rawRegex","cachedRegexInstance","get","regexInstance","RegExp","set","userAgentParser","userAgent","match","exec","slice","_a"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,cAAc,GAAGC,OAAO,CAAC,gBAAD,CAA9B;;AACA,MAAMC,KAAK,GAAGF,cAAc,CAACG,WAAf,EAAd;;AACA,MAAMC,gBAAgB,GAAIC,QAAD,IAAc;AACnC,QAAMC,mBAAmB,GAAGJ,KAAK,CAACK,GAAN,CAAUF,QAAV,CAA5B;AACA,MAAIC,mBAAJ,EACI,OAAOA,mBAAmB,CAACP,KAA3B;AACJ,QAAMS,aAAa,GAAGC,MAAM,CAAE,yCAAwCJ,QAAS,GAAnD,EAAuD,GAAvD,CAA5B;AACAH,EAAAA,KAAK,CAACQ,GAAN,CAAUL,QAAV,EAAoB;AAChBN,IAAAA,KAAK,EAAES;AADS,GAApB;AAGA,SAAOA,aAAP;AACH,CATD;;AAUAV,OAAO,CAACa,eAAR,GAA0B,CAACN,QAAD,EAAWO,SAAX,KAAyB;AAC/C;AACA,MAAI;AACA,UAAMJ,aAAa,GAAGJ,gBAAgB,CAACC,QAAD,CAAtC;AACA,UAAMQ,KAAK,GAAGL,aAAa,CAACM,IAAd,CAAmBF,SAAnB,CAAd;AACA,WAAOC,KAAK,GAAGA,KAAK,CAACE,KAAN,CAAY,CAAZ,CAAH,GAAoB,IAAhC;AACH,GAJD,CAKA,OAAOC,EAAP,EAAW;AACP,WAAO,IAAP;AACH;AACJ,CAVD","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst memory_cache_1 = require(\"./memory-cache\");\nconst cache = memory_cache_1.memoryCache();\nconst getRegexInstance = (rawRegex) => {\n    const cachedRegexInstance = cache.get(rawRegex);\n    if (cachedRegexInstance)\n        return cachedRegexInstance.value;\n    const regexInstance = RegExp(`(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:${rawRegex})`, \"i\");\n    cache.set(rawRegex, {\n        value: regexInstance\n    });\n    return regexInstance;\n};\nexports.userAgentParser = (rawRegex, userAgent) => {\n    // TODO: find out why it fails in some browsers\n    try {\n        const regexInstance = getRegexInstance(rawRegex);\n        const match = regexInstance.exec(userAgent);\n        return match ? match.slice(1) : null;\n    }\n    catch (_a) {\n        return null;\n    }\n};\n"]},"metadata":{},"sourceType":"script"}